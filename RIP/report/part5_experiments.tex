\section{experiments}

	4 big experiments have been executed.
	
	\begin{itemize}
		\item noise analysis
		\item tracking, manually changing the set points
		\item tracking using sine/stair functions
		\item disturbances
	\end{itemize}

\subsection{Simulink}
Figure~\ref{fig:simulink measurement diagram} contains the Simulink diagram used for the measurements. The same estimator subsystem as in the previous section was used. With a cut-off frequency of $f_c=2Hz$, the saturation block is not necessary here. As Simulink itself will limit the output to the motor.
	\begin{figure}[H]
	\centering
	\begin{subfigure}[b]{0.55\textwidth}
		\includegraphics[width=\textwidth]{./part4_experiments/not_generated/simulink_main.png}
		\caption{main diagram}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part4_experiments/not_generated/simulink_estimator.png}
		\caption{estimator}
	\end{subfigure}
	\caption{simulink diagram}
	\label{fig:simulink measurement diagram}
\end{figure}

\subsection{Noise Analysis}
	$\theta$ and $\alpha$ have been measured before the low pass filter with no input signal, the signal measured is considered noise as displayed in figure~\ref{fig:time noise}. Instead of looking at the noise in function of time its very useful to look at the frequency spectrum and the histogram as is done in figure~\ref{fig:freq noise} and figure~\ref{fig:hist noise}. From the histogram we concluded that the noise is Gaussian. In the frequency spectrum you can see that there is a dominant low frequency band and a dominant frequency at 50Hz (net frequency). the rest of the spectrum is more or less flat so Gaussian noise is a good assumption.
	
	The variance of the noise can be computed and then used in the simulation. As the variance is the power in the signal $power = \frac{u_{eff}^2}{R} = \frac{stdev^2}{1 \Omega}$= variance
		
	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.40\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/noise/simple_plot_2.png}
			\caption{time plot of $\theta$ and $\alpha$ before and after the low pass filter}
			\label{fig:time noise}
		\end{subfigure}
		\begin{subfigure}[b]{0.40\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/noise/freq_spec.png}
			\caption{Difference of $\theta$/$\alpha$ before and after the low pass filter}
			\label{fig:freq noise}
		\end{subfigure}
		\begin{subfigure}[b]{0.40\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/noise/histogram_2.png}
			\caption{Historgram of the noise}
			\label{fig:hist noise}
		\end{subfigure}
		\caption{measurement of $\theta$ and $\alpha$ before and after the low pass filter}
	\end{figure}


\subsection{manual tracking}



	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_manual/alpha_theta.png}
			\caption{states $\theta$ and $\alpha$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_manual/alpha_theta_dot.png}
			\caption{states $\dot{\theta}$ and $\dot{\alpha}$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_manual/motor_input.png}
			\caption{motor input}
		\end{subfigure}
	\end{figure}
\subsection{tracking}
	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_sine/alpha_theta.png}
			\caption{states $\theta$ and $\alpha$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_sine/alpha_theta_dot.png}
			\caption{states $\dot{\theta}$ and $\dot{\alpha}$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_sine/motor_input.png}
			\caption{motor input}
		\end{subfigure}
		\caption{tracking with a sine wave}
	\end{figure}

	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_stair/alpha_theta.png}
			\caption{states $\theta$ and $\alpha$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_stair/alpha_theta_dot.png}
			\caption{states $\dot{\theta}$ and $\dot{\alpha}$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/tracking_stair/motor_input.png}
			\caption{motor input}
		\end{subfigure}
		\caption{tracking with a stair function}
	\end{figure}

\subsection{disturbances}
	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/disturbance_rejection/alpha_theta.png}
			\caption{states $\theta$ and $\alpha$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/disturbance_rejection/alpha_theta_dot.png}
			\caption{states $\dot{\theta}$ and $\dot{\alpha}$}
		\end{subfigure}
		\begin{subfigure}[b]{0.45\textwidth}
			\includegraphics[width=\textwidth]{./part4_experiments/disturbance_rejection/motor_input.png}
			\caption{motor input}
		\end{subfigure}
		\caption{disturbance rejection test}
	\end{figure}

\subsection{The role of the cut-off frequency of the low pass filter}

\begin{figure}[H]
	\centering
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC05/alpha_theta.png}
		\caption{$f_c=0.5Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC1/alpha_theta.png}
		\caption{$f_c=1Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC2/alpha_theta.png}
		\caption{$f_c=2Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC3/alpha_theta.png}
		\caption{$f_c=3Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC4/alpha_theta.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC8/alpha_theta.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\caption{measured $\theta$ and $\alpha$ states for different cut off frequencies}
\end{figure}
\begin{figure}[H]
	\centering
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC05/alpha_theta_dot.png}
		\caption{$f_c=0.5Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC1/alpha_theta_dot.png}
		\caption{$f_c=1Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC2/alpha_theta_dot.png}
		\caption{$f_c=2Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC3/alpha_theta_dot.png}
		\caption{$f_c=3Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC4/alpha_theta_dot.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC8/alpha_theta_dot.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\caption{calculated $\dot{\theta}$ and $\dot{\alpha}$ states for different cut off frequencies}
\end{figure}

\begin{figure}[H]
	\centering
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC05/motor_input.png}
		\caption{$f_c=0.5Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC1/motor_input.png}
		\caption{$f_c=1Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC2/motor_input.png}
		\caption{$f_c=2Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC3/motor_input.png}
		\caption{$f_c=3Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC4/motor_input.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[width=\textwidth]{./part5_experiments/FC8/motor_input.png}
		\caption{$f_c=4Hz$}
	\end{subfigure}
	\caption{motor input for different cut off frequencies}
\end{figure}

